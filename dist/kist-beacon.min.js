/*! kist-beacon 0.3.0 - Front-end logging interface. | Author: Ivan NikoliÄ‡ <niksy5@gmail.com> (http://ivannikolic.com/), 2015 | License: MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),(b.kist||(b.kist={})).Beacon=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(c){function d(){c.console&&!n&&(n=!0,l(function(a){for(var b=0,c=o.console.length;c>b;b++)h.call(o.console[b],a.method,a.arguments)}))}function e(){p&&p.apply(c,arguments);for(var a=0,b=o.js.length;b>a;a++)g.apply(o.js[a],arguments);return!1}function f(a){return j({},{logType:"Generic",userAgent:navigator.userAgent,time:k()},a)}function g(a,b,c){return this.send(f({logType:"JS Error",errorMessage:a,url:b,lineNumber:c}))}function h(a,b){return this.send(f({logType:"Console call",methodType:a,url:location.href,message:b}))}var i=a(5),j=a(8),k=a(4),l=a(2),m=a(6),n=!1,o={js:[],console:[]},p=c.onerror;c.onerror=e;var q=b.exports=function(a){var b=[];this.options=j({},this.defaults,a);for(var c in this.options)!this.options.hasOwnProperty(c)||"console"!==c&&"js"!==c||this.options[c]&&b.push(c);for(var e=0,f=b.length;f>e;e++)o[b[e]].push(this);this.options.console&&d()};q.prototype.defaults={url:"",js:!0,console:!1},q.prototype.send=function(a){m(this.options.url,f(a))},q.prototype.destroy=function(){var a,b;for(var c in o)o.hasOwnProperty(c)&&(b=o[c],a=i(b,this),-1!==a&&b.splice(a,1))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b){var c=a(3);b.exports=function(a){var b=[];for(var d in console)b.push(d);c(b,function(b){var c=console[b],d=function(){var d=[].slice.call(arguments);a({method:b,arguments:d}),c.apply?c.apply(console,d):c([].slice.apply(d).join(" "))};console[b]=d})}},{}],3:[function(a,b){var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString;b.exports=function(a,b,e){if("[object Function]"!==d.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;f>g;g++)b.call(e,a[g],g,a);else for(var h in a)c.call(a,h)&&b.call(e,a[h],h,a)}},{}],4:[function(a,b){function c(){return(new Date).getTime()}b.exports=Date.now||c},{}],5:[function(a,b){var c=[].indexOf;b.exports=function(a,b){if(c)return a.indexOf(b);for(var d=0;d<a.length;++d)if(a[d]===b)return d;return-1}},{}],6:[function(a,b){(function(c){function d(a,b){var d;if("FormData"in c&&!b){d=new FormData;for(var f in a)a.hasOwnProperty(f)&&d.append(f,a[f])}else d=e(a);return d}var e=a(7);b.exports=function(a,b,e){if(navigator.sendBeacon)navigator.sendBeacon(a,d(b));else{var f="XMLHttpRequest"in c?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");f.open("POST",a,e?!1:!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send(d(b,!0))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(a,b){"use strict";function c(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var d=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,g,h){return b=b||"&",g=g||"=",null===a&&(a=void 0),"object"==typeof a?c(f(a),function(f){var h=encodeURIComponent(d(f))+g;return e(a[f])?c(a[f],function(a){return h+encodeURIComponent(d(a))}).join(b):h+encodeURIComponent(d(a[f]))}).join(b):h?encodeURIComponent(d(h))+g+encodeURIComponent(d(a)):""};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],8:[function(a,b){function c(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a}b.exports=c},{}]},{},[1])(1)});